import{_ as i,M as o,p as l,q as r,Q as n,N as a,V as e,t as s,a1 as c}from"./framework-ee54e473.js";const u={},d=n("h1",{id:"spinner",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#spinner","aria-hidden":"true"},"#"),s(" Spinner")],-1),k={class:"table-of-contents"},v=c(`<p><strong>微调框</strong>（Spinner），也可以称为下拉列表，或者下拉菜单，轻触后列有所有其他可用值，用户可从中选择一个新值。<sup class="footnote-ref"><a href="#footnote1">[1]</a><a class="footnote-anchor" id="footnote-ref1"></a></sup></p><div class="language-xml" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Spinner</span>
    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/planets_spinner<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>详细的使用方式见官方文档。</p><p>使用指南：</p>`,4),m={href:"https://developer.android.google.cn/reference/android/widget/SpinnerAdapter?hl=zh-cn",target:"_blank",rel:"noopener noreferrer"},g=n("code",null,"SpinnerAdapter",-1),_=n("li",null,"如果预先确定了微调框的可用选项，可通过资源文件中定义的字符串数组来提供选项",-1),b={href:"https://developer.android.google.cn/reference/android/widget/AdapterView.OnItemSelectedListener?hl=zh-cn",target:"_blank",rel:"noopener noreferrer"},h=n("code",null,"AdapterView.OnItemSelectedListener",-1),f=c(`<h2 id="_1-填充值" tabindex="-1"><a class="header-anchor" href="#_1-填充值" aria-hidden="true">#</a> 1. 填充值</h2><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="language-kotlin"><code><span class="token keyword">val</span> spinner<span class="token operator">:</span> Spinner <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>spinner<span class="token punctuation">)</span>
<span class="token comment">// 创建数组适配器 ArrayAdapter 并指定默认布局</span>
ArrayAdapter<span class="token punctuation">.</span><span class="token function">createFromResource</span><span class="token punctuation">(</span>
        <span class="token keyword">this</span><span class="token punctuation">,</span>
        R<span class="token punctuation">.</span>array<span class="token punctuation">.</span>planets_array<span class="token punctuation">,</span>
        android<span class="token punctuation">.</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>simple_spinner_item
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">also</span> <span class="token punctuation">{</span> adapter <span class="token operator">-&gt;</span>
    <span class="token comment">// 指定选择时的布局</span>
    adapter<span class="token punctuation">.</span><span class="token function">setDropDownViewResource</span><span class="token punctuation">(</span>android<span class="token punctuation">.</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>simple_spinner_dropdown_item<span class="token punctuation">)</span>
    <span class="token comment">// 将适配器应用到 spinner</span>
    spinner<span class="token punctuation">.</span>adapter <span class="token operator">=</span> adapter
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-使用监听器" tabindex="-1"><a class="header-anchor" href="#_2-使用监听器" aria-hidden="true">#</a> 2. 使用监听器</h2><p>在初始化时指定监听器：</p><div class="language-kotlin" data-ext="kt"><pre class="language-kotlin"><code><span class="token keyword">val</span> spinner<span class="token operator">:</span> Spinner <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>spinner<span class="token punctuation">)</span>
spinner<span class="token punctuation">.</span>onItemSelectedListener <span class="token operator">=</span> <span class="token keyword">this</span>
</code></pre></div><p>然后继承事件监听器即可：</p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="language-kotlin"><code><span class="token keyword">class</span> SpinnerActivity <span class="token operator">:</span> <span class="token function">Activity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> AdapterView<span class="token punctuation">.</span><span class="token function">OnItemSelectedListener</span> <span class="token punctuation">{</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onItemSelected</span><span class="token punctuation">(</span>parent<span class="token operator">:</span> AdapterView<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> view<span class="token operator">:</span> View<span class="token operator">?</span><span class="token punctuation">,</span> pos<span class="token operator">:</span> Int<span class="token punctuation">,</span> id<span class="token operator">:</span> Long<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onNothingSelected</span><span class="token punctuation">(</span>parent<span class="token operator">:</span> AdapterView<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-在-activity-中使用" tabindex="-1"><a class="header-anchor" href="#_4-在-activity-中使用" aria-hidden="true">#</a> 4. 在 Activity 中使用</h2><p>使用 <code>R.array.array_list</code> 指定选项：</p><div class="language-xml" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string-array</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>array_list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>项目 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>项目 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>项目 3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string-array</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在 <code>onCreate</code> 中指定：</p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="language-kotlin"><code><span class="token keyword">val</span> spinner<span class="token operator">:</span> Spinner <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>spinner<span class="token punctuation">)</span>
ArrayAdapter<span class="token punctuation">.</span><span class="token function">createFromResource</span><span class="token punctuation">(</span>
    <span class="token keyword">this</span><span class="token punctuation">,</span>
    R<span class="token punctuation">.</span>array<span class="token punctuation">.</span>array_list<span class="token punctuation">,</span>
    android<span class="token punctuation">.</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>simple_spinner_item
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">also</span> <span class="token punctuation">{</span> adapter <span class="token operator">-&gt;</span>
    adapter<span class="token punctuation">.</span><span class="token function">setDropDownViewResource</span><span class="token punctuation">(</span>android<span class="token punctuation">.</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>simple_spinner_dropdown_item<span class="token punctuation">)</span>
    spinner<span class="token punctuation">.</span>adapter <span class="token operator">=</span> adapter
<span class="token punctuation">}</span>
spinner<span class="token punctuation">.</span>onItemSelectedListener <span class="token operator">=</span> <span class="token keyword">object</span><span class="token operator">:</span> AdapterView<span class="token punctuation">.</span><span class="token function">OnItemSelectedListener</span> <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onItemSelected</span><span class="token punctuation">(</span>
        parent<span class="token operator">:</span> AdapterView<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
        view<span class="token operator">:</span> View<span class="token operator">?</span><span class="token punctuation">,</span>
        position<span class="token operator">:</span> Int<span class="token punctuation">,</span>
        id<span class="token operator">:</span> Long
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onNothingSelected</span><span class="token punctuation">(</span>parent<span class="token operator">:</span> AdapterView<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-在-fragment-中使用" tabindex="-1"><a class="header-anchor" href="#_5-在-fragment-中使用" aria-hidden="true">#</a> 5. 在 Fragment 中使用</h2><p>使用 <code>R.array.array_list</code> 指定选项，在 <code>onCreateView</code> 中指定：</p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="language-kotlin"><code><span class="token keyword">val</span> spinner<span class="token operator">:</span> Spinner <span class="token operator">=</span> binding<span class="token punctuation">.</span>spinnerName
<span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span>
    ArrayAdapter<span class="token punctuation">.</span><span class="token function">createFromResource</span><span class="token punctuation">(</span>
        it<span class="token punctuation">,</span>
        R<span class="token punctuation">.</span>array<span class="token punctuation">.</span>array_list<span class="token punctuation">,</span>
        android<span class="token punctuation">.</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>simple_spinner_item
    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">also</span> <span class="token punctuation">{</span> adapter <span class="token operator">-&gt;</span>
        adapter<span class="token punctuation">.</span><span class="token function">setDropDownViewResource</span><span class="token punctuation">(</span>android<span class="token punctuation">.</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>simple_spinner_dropdown_item<span class="token punctuation">)</span>
        spinner<span class="token punctuation">.</span>adapter <span class="token operator">=</span> adapter
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
spinner<span class="token punctuation">.</span>onItemSelectedListener <span class="token operator">=</span> <span class="token keyword">object</span><span class="token operator">:</span> AdapterView<span class="token punctuation">.</span><span class="token function">OnItemSelectedListener</span> <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onItemSelected</span><span class="token punctuation">(</span>
        parent<span class="token operator">:</span> AdapterView<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
        view<span class="token operator">:</span> View<span class="token operator">?</span><span class="token punctuation">,</span>
        position<span class="token operator">:</span> Int<span class="token punctuation">,</span>
        id<span class="token operator">:</span> Long
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onNothingSelected</span><span class="token punctuation">(</span>parent<span class="token operator">:</span> AdapterView<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr class="footnotes-sep">`,16),w={class:"footnotes"},y={class:"footnotes-list"},x={id:"footnote1",class:"footnote-item"},A={href:"https://developer.android.google.cn/guide/topics/ui/controls/spinner?hl=zh-cn",target:"_blank",rel:"noopener noreferrer"},V=n("a",{href:"#footnote-ref1",class:"footnote-backref"},"↩︎",-1);function S(R,I){const t=o("router-link"),p=o("ExternalLinkIcon");return l(),r("div",null,[d,n("nav",k,[n("ul",null,[n("li",null,[a(t,{to:"#_1-填充值"},{default:e(()=>[s("1. 填充值")]),_:1})]),n("li",null,[a(t,{to:"#_2-使用监听器"},{default:e(()=>[s("2. 使用监听器")]),_:1})]),n("li",null,[a(t,{to:"#_4-在-activity-中使用"},{default:e(()=>[s("4. 在 Activity 中使用")]),_:1})]),n("li",null,[a(t,{to:"#_5-在-fragment-中使用"},{default:e(()=>[s("5. 在 Fragment 中使用")]),_:1})])])]),v,n("ul",null,[n("li",null,[s("使用适配器类 "),n("a",m,[g,a(p)]),s(" 来控制行为")]),_,n("li",null,[s("使用监听器 "),n("a",b,[h,a(p)]),s(" 来监听事件")])]),f,n("section",w,[n("ol",y,[n("li",x,[n("p",null,[s("微调框，Android 官方文档，"),n("a",A,[s("https://developer.android.google.cn/guide/topics/ui/controls/spinner?hl=zh-cn"),a(p)]),s(),V])])])])])}const L=i(u,[["render",S],["__file","spinner.html.vue"]]);export{L as default};
