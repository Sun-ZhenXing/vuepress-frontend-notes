import{_ as p,r as o,o as c,c as l,b as n,a as t,w as e,d as a,e as i}from"./app-78780c47.js";const u={},r=n("h1",{id:"在-vue-项目中引入-cdn-库",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#在-vue-项目中引入-cdn-库","aria-hidden":"true"},"#"),a(" 在 Vue 项目中引入 CDN 库")],-1),d={class:"table-of-contents"},k=i(`<h2 id="_1-全局引入" tabindex="-1"><a class="header-anchor" href="#_1-全局引入" aria-hidden="true">#</a> 1. 全局引入</h2><h3 id="_1-1-webpack" tabindex="-1"><a class="header-anchor" href="#_1-1-webpack" aria-hidden="true">#</a> 1.1 Webpack</h3><p>在 <code>public/index.html</code> 中引入 <code>&lt;script&gt;</code> 标签</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>...<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在 <code>vue.config.js</code> 中配置：</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">configureWebpack</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">externals</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&#39;function-plot&#39;</span><span class="token operator">:</span> <span class="token string">&#39;functionPlot&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-2-vite" tabindex="-1"><a class="header-anchor" href="#_1-2-vite" aria-hidden="true">#</a> 1.2 Vite</h3><p>安装 <code>vite-plugin-externals</code> 插件：</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> <span class="token parameter variable">-D</span> vite-plugin-externals
</code></pre></div><p>在 <code>vite.config.ts</code> 中配置：</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">&#39;@vitejs/plugin-vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> viteExternalsPlugin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite-plugin-externals&#39;</span>

<span class="token comment">// https://vitejs.dev/config/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">viteExternalsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      externals<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          module<span class="token operator">:</span> <span class="token string">&#39;function-plot&#39;</span><span class="token punctuation">,</span>
          global<span class="token operator">:</span> <span class="token string">&#39;functionPlot&#39;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果你在开发环境中引入了生产环境的库，可能会使得 HMR 失败。</p><p>你也可以使用 <code>disableInServe: true</code> 避免在 Serve 模式中转换。</p><h2 id="_2-在组件中引入" tabindex="-1"><a class="header-anchor" href="#_2-在组件中引入" aria-hidden="true">#</a> 2. 在组件中引入</h2><p>由于 <code>&lt;template&gt;</code> 中不能使用 <code>&lt;script&gt;</code> 标签，所以我们需要使用 <code>&lt;component&gt;</code> 组件来引入。</p><div class="language-vue" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>script<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/function-plot/dist/function-plot.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>`,16);function v(g,m){const s=o("router-link");return c(),l("div",null,[r,n("nav",d,[n("ul",null,[n("li",null,[t(s,{to:"#_1-全局引入"},{default:e(()=>[a("1. 全局引入")]),_:1}),n("ul",null,[n("li",null,[t(s,{to:"#_1-1-webpack"},{default:e(()=>[a("1.1 Webpack")]),_:1})]),n("li",null,[t(s,{to:"#_1-2-vite"},{default:e(()=>[a("1.2 Vite")]),_:1})])])]),n("li",null,[t(s,{to:"#_2-在组件中引入"},{default:e(()=>[a("2. 在组件中引入")]),_:1})])])]),k])}const b=p(u,[["render",v],["__file","use-cdn-libraries.html.vue"]]);export{b as default};
